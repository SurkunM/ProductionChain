{"version":3,"file":"js/628.4b761450.js","mappings":"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","sources":["webpack://frontend/./src/components/OrdersTab.vue","webpack://frontend/./src/components/OrdersTab.vue?fcf8"],"sourcesContent":["<template>\r\n    <v-card title=\"Заказы\"\r\n            flat>\r\n        <v-progress-linear v-if=\"isLoading\"\r\n                           indeterminate\r\n                           color=\"primary\"\r\n                           height=\"4\">\r\n        </v-progress-linear>\r\n\r\n        <v-alert type=\"success\" variant=\"outlined\" v-show=\"isShowSuccessAlert\">\r\n            <template v-slot:text>\r\n                <span v-text=\"alertText\"></span>\r\n            </template>\r\n        </v-alert>\r\n        <v-alert type=\"error\" variant=\"outlined\" v-show=\"isShowErrorAlert\">\r\n            <template v-slot:text>\r\n                <span v-text=\"alertText\"></span>\r\n            </template>\r\n        </v-alert>\r\n\r\n        <v-data-table :headers=\"headers\"\r\n                      :items=\"orders\"\r\n                      hide-default-footer\r\n                      :items-per-page=\"itemsPerPage\"\r\n                      no-data-text=\"Список пуст\">\r\n\r\n            <template v-slot:[`item.status`]=\"{ value }\">\r\n                <v-chip :border=\"`${getColor(value)} thin opacity-25`\"\r\n                        :color=\"getColor(value)\"\r\n                        :text=\"value\"\r\n                        size=\"small\"></v-chip>\r\n            </template>\r\n\r\n            <template v-slot:[`item.actions`]=\"{ item }\">\r\n                <div>\r\n                    <template v-if=\"!item.inProgress\">\r\n                        <v-btn size=\"small\" color=\"info\" @click=\"edit(item.id)\" class=\"me-2\">Начать</v-btn>\r\n                    </template>\r\n                </div>\r\n            </template>\r\n        </v-data-table>\r\n\r\n        <v-pagination v-model=\"currentPage\"\r\n                      :length=\"pagesCount\"\r\n                      @update:modelValue=\"switchPage\"\r\n                      circle\r\n                      color=\"primary\">\r\n        </v-pagination>\r\n    </v-card>\r\n</template>\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                term: \"\",\r\n                currentPage: 1,\r\n\r\n                sortByColumn: \"name\",\r\n                sortDesc: false,\r\n\r\n                headers: [\r\n                    { value: \"id\", title: \"№\", width: \"15%\" },\r\n                    { value: \"name\", title: \"Изделие\", width: \"25%\" },\r\n                    { value: \"count\", title: \"шт\", width: \"15%\" },\r\n                    { value: \"status\", title: \"Статус\", width: \"20%\" },\r\n                    { value: \"actions\", title: \"\", width: \"25%\" },\r\n                ],\r\n\r\n                isShowSuccessAlert: false,\r\n                isShowErrorAlert: false,\r\n                alertText: \"\",\r\n            }\r\n        },\r\n\r\n        created() {\r\n            this.$store.dispatch(\"loadOrders\")\r\n                .catch(() => {\r\n                    this.showErrorAlert(\"Ошибка! Не удалось загрузить список заказов.\");\r\n                });\r\n        },\r\n\r\n        computed: {\r\n            orders() {\r\n                return this.$store.getters.orders;\r\n            },\r\n\r\n            itemsPerPage() {\r\n                return this.$store.getters.pageSize;\r\n            },\r\n\r\n            pagesCount() {\r\n                return Math.ceil(this.$store.getters.pageItemsCount / this.itemsPerPage);\r\n            },\r\n\r\n            isLoading() {\r\n                return this.$store.getters.isLoading;\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            getColor(state) {\r\n                if (state === \"в очереди\") {\r\n                    return \"error\";\r\n                }\r\n                else if (state === \"выполняется\") {\r\n                    return \"warning\";\r\n                }\r\n                else {\r\n                    return \"success\";\r\n                }\r\n            },\r\n\r\n            edit(id) {\r\n                console.log(id);\r\n            },\r\n\r\n            switchPage(nextPage) {\r\n                this.$store.dispatch(\"navigateToPage\", nextPage);\r\n            },\r\n\r\n            showSuccessAlert(text) {\r\n                this.alertText = text;\r\n                this.isShowSuccessAlert = true;\r\n\r\n                setTimeout(() => {\r\n                    this.alertText = \"\";\r\n                    this.isShowSuccessAlert = false;\r\n                }, 2000);\r\n            },\r\n\r\n            showErrorAlert(text) {\r\n                this.alertText = text;\r\n                this.isShowErrorAlert = true;\r\n\r\n                setTimeout(() => {\r\n                    this.alertText = \"\";\r\n                    this.isShowErrorAlert = false;\r\n                }, 2000);\r\n            }\r\n        }\r\n    }\r\n</script>","import { render } from \"./OrdersTab.vue?vue&type=template&id=d19b2aa8\"\nimport script from \"./OrdersTab.vue?vue&type=script&lang=js\"\nexport * from \"./OrdersTab.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_v_card","title","flat","default","_withCtx","$options","isLoading","_component_v_progress_linear","key","indeterminate","color","height","_createCommentVNode","_createVNode","_component_v_alert","type","variant","text","_createElementVNode","textContent","_toDisplayString","$data","alertText","_hoisted_1","_","isShowSuccessAlert","_hoisted_2","isShowErrorAlert","_component_v_data_table","headers","items","orders","itemsPerPage","value","_component_v_chip","border","getColor","size","item","inProgress","_component_v_btn","onClick","$event","edit","id","class","_cache","_createTextVNode","__","_component_v_pagination","modelValue","currentPage","switchPage","length","pagesCount","circle","data","term","sortByColumn","sortDesc","width","created","this","$store","dispatch","catch","showErrorAlert","computed","getters","pageSize","Math","ceil","pageItemsCount","methods","state","console","log","nextPage","showSuccessAlert","setTimeout","__exports__","render"],"sourceRoot":""}