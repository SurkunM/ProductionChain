"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[742],{742:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var a=r(6768),s=r(4232),l=r(5130);const i=["textContent"],o=["textContent"];function n(e,t,r,n,u,h){const d=(0,a.g2)("v-progress-linear"),c=(0,a.g2)("v-alert"),g=(0,a.g2)("v-text-field"),m=(0,a.g2)("v-data-table"),p=(0,a.g2)("v-pagination"),v=(0,a.g2)("v-card");return(0,a.uX)(),(0,a.Wv)(v,{title:"Задачи",flat:""},{text:(0,a.k6)((()=>[(0,a.bF)(g,{modelValue:u.term,"onUpdate:modelValue":t[0]||(t[0]=e=>u.term=e),label:"Найти","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])])),default:(0,a.k6)((()=>[h.isLoading?((0,a.uX)(),(0,a.Wv)(d,{key:0,indeterminate:"",color:"primary",height:"4"})):(0,a.Q3)("",!0),(0,a.bo)((0,a.bF)(c,{type:"success",variant:"outlined"},{text:(0,a.k6)((()=>[(0,a.Lk)("span",{textContent:(0,s.v_)(u.alertText)},null,8,i)])),_:1},512),[[l.aG,u.isShowSuccessAlert]]),(0,a.bo)((0,a.bF)(c,{type:"error",variant:"outlined"},{text:(0,a.k6)((()=>[(0,a.Lk)("span",{textContent:(0,s.v_)(u.alertText)},null,8,o)])),_:1},512),[[l.aG,u.isShowErrorAlert]]),(0,a.bF)(m,{headers:u.headers,items:h.tasks,search:u.term,"hide-default-footer":"","items-per-page":h.itemsPerPage,"no-data-text":"Список пуст"},null,8,["headers","items","search","items-per-page"]),(0,a.bF)(p,{modelValue:u.currentPage,"onUpdate:modelValue":[t[1]||(t[1]=e=>u.currentPage=e),h.switchPage],length:h.pagesCount,circle:"",color:"primary"},null,8,["modelValue","length","onUpdate:modelValue"])])),_:1})}var u={data(){return{term:"",currentPage:1,sortByColumn:"lastName",sortDesc:!1,headers:[{value:"id",title:"№",align:"center"},{value:"name",title:"Название"},{value:"model",title:"Модель"},{value:"lastName",title:"Фамилия"},{value:"count",title:"шт"},{value:"DateAt",title:"Начало"}],isShowSuccessAlert:!1,isShowErrorAlert:!1,alertText:""}},created(){this.$store.dispatch("loadTasks").catch((()=>{this.showErrorAlert("Ошибка! Не удалось загрузить список задачи.")}))},computed:{tasks(){return this.$store.getters.tasks},itemsPerPage(){return this.$store.getters.pageSize},pagesCount(){return Math.ceil(this.$store.getters.pageItemsCount/this.itemsPerPage)},isLoading(){return this.$store.getters.isLoading}},methods:{switchPage(e){this.$store.dispatch("navigateToPage",e)},showSuccessAlert(e){this.alertText=e,this.isShowSuccessAlert=!0,setTimeout((()=>{this.alertText="",this.isShowSuccessAlert=!1}),2e3)},showErrorAlert(e){this.alertText=e,this.isShowErrorAlert=!0,setTimeout((()=>{this.alertText="",this.isShowErrorAlert=!1}),2e3)}}},h=r(1241);const d=(0,h.A)(u,[["render",n]]);var c=d}}]);
//# sourceMappingURL=742.c15d0fd2.js.map