"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[944],{9944:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var a=s(6768),o=s(4232);function i(e,t,s,i,l,r){const u=(0,a.g2)("v-btn"),c=(0,a.g2)("v-data-table"),d=(0,a.g2)("v-icon"),n=(0,a.g2)("v-card-title"),h=(0,a.g2)("v-card-text"),m=(0,a.g2)("v-card"),k=(0,a.g2)("v-col"),g=(0,a.g2)("v-row"),f=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.Wv)(m,{title:"Очередь на получение задач",flat:""},{default:(0,a.k6)((()=>[r.isAuthorized?((0,a.uX)(),(0,a.Wv)(c,{key:0,headers:l.headers,items:r.taskQueue,"hide-default-footer":"",loading:r.isLoading,"no-data-text":"Список пуст"},{["header.employeeFullName"]:(0,a.k6)((({column:e})=>[(0,a.eW)((0,o.v_)(e.title),1)])),["header.createDate"]:(0,a.k6)((({column:e})=>[(0,a.eW)((0,o.v_)(e.title),1)])),["item.actions"]:(0,a.k6)((({item:e})=>[(0,a.bF)(u,{size:"small",color:"info",onClick:r.showTaskCreateModal,class:"me-4 mt-2"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)("Выдать задачу")]))),_:1,__:[1]},8,["onClick"]),(0,a.bF)(u,{size:"small",color:"error",onClick:t=>r.removeToTaskQueue(e),class:"mt-2"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)("Удалить из очереди")]))),_:2,__:[2]},1032,["onClick"])])),_:2},1032,["headers","items","loading"])):((0,a.uX)(),(0,a.Wv)(f,{key:1,class:"fill-height",fluid:""},{default:(0,a.k6)((()=>[(0,a.bF)(g,{align:"center",justify:"center"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{cols:"12",sm:"8",md:"6",lg:"4"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"text-center pa-8"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)(" mdi-account-lock ")]))),_:1,__:[3]}),(0,a.bF)(n,{class:"text-h5 justify-center"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)(" Требуется авторизация ")]))),_:1,__:[4]}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[t[6]||(t[6]=(0,a.Lk)("p",{class:"text-body-1 mb-4"}," Для просмотра этой страницы необходимо войти в систему ",-1)),(0,a.bF)(u,{color:"primary",onClick:t[0]||(t[0]=e=>r.showLoginModal())},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)(" Войти ")]))),_:1,__:[5]})])),_:1,__:[6]})])),_:1})])),_:1})])),_:1})])),_:1}))])),_:1})}var l={data(){return{headers:[{value:"index",title:"№",align:"center"},{value:"employeeFullName",title:"Сотрудник"},{value:"createDate",title:"Дата"},{value:"actions",title:"",width:"35%"}]}},created(){this.isAuthorized&&this.$store.dispatch("loadTaskQueue")},computed:{taskQueue(){return this.$store.getters.taskQueue},isLoading(){return this.$store.getters.isLoading},isAuthorized(){return this.$store.getters.isAuthorized}},methods:{removeToTaskQueue(e){this.$store.dispatch("removeFromTaskQueue",e.employeeId).then((()=>{this.$store.commit("setAlertMessage","Сотрудник удален из очереди"),this.$store.commit("isShowSuccessAlert",!0)})).catch((()=>{this.$store.commit("setAlertMessage","Ошибка! Не удалось удалить сотрудника из очереди"),this.$store.commit("isShowErrorAlert",!0)}))},showTaskCreateModal(){this.$store.commit("isShowTaskCreateModal",!0)},showLoginModal(){this.$store.commit("setIsShowLoginModal",!0)}}},r=s(1241);const u=(0,r.A)(l,[["render",i]]);var c=u}}]);
//# sourceMappingURL=944.dac0aad7.js.map