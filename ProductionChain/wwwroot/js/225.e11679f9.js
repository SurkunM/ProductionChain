"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[225],{3225:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var a=s(6768),o=s(4232);function r(e,t,s,r,i,l){const u=(0,a.g2)("v-progress-linear"),c=(0,a.g2)("v-btn"),d=(0,a.g2)("v-data-table"),n=(0,a.g2)("v-icon"),h=(0,a.g2)("v-card-title"),m=(0,a.g2)("v-card-text"),k=(0,a.g2)("v-card"),g=(0,a.g2)("v-col"),f=(0,a.g2)("v-row"),v=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.Wv)(k,{title:"Очередь на получение задач",flat:""},{default:(0,a.k6)((()=>[l.isLoading?((0,a.uX)(),(0,a.Wv)(u,{key:0,indeterminate:"",color:"primary",height:"4"})):(0,a.Q3)("",!0),l.isAuthorized?((0,a.uX)(),(0,a.Wv)(d,{key:1,headers:i.headers,items:l.taskQueue,"hide-default-footer":"","no-data-text":"Список пуст"},{["header.employeeFullName"]:(0,a.k6)((({column:e})=>[(0,a.eW)((0,o.v_)(e.title),1)])),["header.createDate"]:(0,a.k6)((({column:e})=>[(0,a.eW)((0,o.v_)(e.title),1)])),["item.actions"]:(0,a.k6)((({item:e})=>[(0,a.bF)(c,{size:"small",color:"info",onClick:l.showTaskCreateModal,class:"me-4 mt-2"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)("Выдать задачу")]))),_:1,__:[1]},8,["onClick"]),(0,a.bF)(c,{size:"small",color:"error",onClick:t=>l.removeToTaskQueue(e),class:"mt-2"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)("Удалить из очереди")]))),_:2,__:[2]},1032,["onClick"])])),_:2},1032,["headers","items"])):((0,a.uX)(),(0,a.Wv)(v,{key:2,class:"fill-height",fluid:""},{default:(0,a.k6)((()=>[(0,a.bF)(f,{align:"center",justify:"center"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{cols:"12",sm:"8",md:"6",lg:"4"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{class:"text-center pa-8"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)(" mdi-account-lock ")]))),_:1,__:[3]}),(0,a.bF)(h,{class:"text-h5 justify-center"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)(" Требуется авторизация ")]))),_:1,__:[4]}),(0,a.bF)(m,null,{default:(0,a.k6)((()=>[t[6]||(t[6]=(0,a.Lk)("p",{class:"text-body-1 mb-4"}," Для просмотра этой страницы необходимо войти в систему ",-1)),(0,a.bF)(c,{color:"primary",onClick:t[0]||(t[0]=e=>l.showLoginModal())},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)(" Войти ")]))),_:1,__:[5]})])),_:1,__:[6]})])),_:1})])),_:1})])),_:1})])),_:1}))])),_:1})}var i={data(){return{headers:[{value:"index",title:"№",align:"center"},{value:"employeeFullName",title:"Сотрудник"},{value:"createDate",title:"Дата"},{value:"actions",title:"",width:"35%"}]}},created(){this.isAuthorized&&this.$store.dispatch("loadTaskQueue")},computed:{taskQueue(){return this.$store.getters.taskQueue},isLoading(){return this.$store.getters.isLoading},isAuthorized(){return this.$store.getters.isAuthorized}},methods:{removeToTaskQueue(e){this.$store.dispatch("removeFromTaskQueue",e.employeeId).then((()=>{this.$store.commit("setAlertMessage","Сотрудник удален из очереди"),this.$store.commit("isShowSuccessAlert",!0)})).catch((()=>{this.$store.commit("setAlertMessage","Ошибка! Не удалось удалить сотрудника из очереди"),this.$store.commit("isShowErrorAlert",!0)}))},showTaskCreateModal(){this.$store.commit("isShowTaskCreateModal",!0)},showLoginModal(){this.$store.commit("setIsShowLoginModal",!0)}}},l=s(1241);const u=(0,l.A)(i,[["render",r]]);var c=u}}]);
//# sourceMappingURL=225.e11679f9.js.map