{"version":3,"file":"js/313.6390f42c.js","mappings":"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","sources":["webpack://frontend/./src/components/EmployeesTab.vue","webpack://frontend/./src/components/EmployeesTab.vue?ed9d"],"sourcesContent":["<template>\r\n    <v-card title=\"Сотрудники\"\r\n            flat>\r\n\r\n        <v-progress-linear v-if=\"isLoading\"\r\n                           indeterminate\r\n                           color=\"primary\"\r\n                           height=\"4\">\r\n        </v-progress-linear>\r\n\r\n        <v-alert type=\"success\" variant=\"outlined\" v-show=\"isShowSuccessAlert\">\r\n            <template v-slot:text>\r\n                <span v-text=\"alertText\"></span>\r\n            </template>\r\n        </v-alert>\r\n        <v-alert type=\"error\" variant=\"outlined\" v-show=\"isShowErrorAlert\">\r\n            <template v-slot:text>\r\n                <span v-text=\"alertText\"></span>\r\n            </template>\r\n        </v-alert>\r\n\r\n        <template v-slot:text>\r\n            <v-text-field v-model=\"term\"\r\n                          label=\"Найти\"\r\n                          prepend-inner-icon=\"mdi-magnify\"\r\n                          variant=\"outlined\"\r\n                          hide-details\r\n                          single-line></v-text-field>\r\n        </template>\r\n\r\n        <v-data-table :headers=\"headers\"\r\n                      :items=\"employees\"\r\n                      :search=\"term\"\r\n                      hide-default-footer\r\n                      :items-per-page=\"itemsPerPage\"\r\n                      no-data-text=\"Список пуст\">\r\n\r\n            <template v-slot:[`item.state`]=\"{ value }\">\r\n                <v-chip :border=\"`${getColor(value)} thin opacity-25`\"\r\n                        :color=\"getColor(value)\"\r\n                        :text=\"value\"\r\n                        size=\"small\"></v-chip>\r\n            </template>\r\n        </v-data-table>\r\n\r\n        <v-pagination v-model=\"currentPage\"\r\n                      :length=\"pagesCount\"\r\n                      @update:modelValue=\"switchPage\"\r\n                      circle\r\n                      color=\"primary\">\r\n        </v-pagination>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                term: \"\",\r\n                currentPage: 1,\r\n\r\n                sortByColumn: \"lastName\",\r\n                sortDesc: false,\r\n\r\n                headers: [\r\n                    { value: \"id\", title: \"№\" },\r\n                    { value: \"lastName\", title: \"Фамилия\" },\r\n                    { value: \"firstName\", title: \"Имя\" },\r\n                    { value: \"middlename\", title: \"Отчество\" },\r\n                    { value: \"position\", title: \"Должность\" },\r\n                    { value: \"state\", title: \"Состояние\" }\r\n                ],\r\n\r\n                isShowSuccessAlert: false,\r\n                isShowErrorAlert: false,\r\n                alertText: \"\",\r\n            }\r\n        },\r\n\r\n        created() {\r\n            this.$store.dispatch(\"loadEmployees\")\r\n                .catch(() => {\r\n                    this.showErrorAlert(\"Ошибка! Не удалось загрузить список сотрудников.\");\r\n                });\r\n        },\r\n\r\n        computed: {\r\n            employees() {\r\n                return this.$store.getters.employees;\r\n            },\r\n\r\n            itemsPerPage() {\r\n                return this.$store.getters.pageSize;\r\n            },\r\n\r\n            pagesCount() {\r\n                return Math.ceil(this.$store.getters.pageItemsCount / this.itemsPerPage);\r\n            },\r\n\r\n            isLoading() {\r\n                return this.$store.getters.isLoading;\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            getColor(state) {\r\n                if (state === \"отгул\") {\r\n                    return \"error\";\r\n                }\r\n\r\n                if (state === \"занят\") {\r\n                    return \"warning\"\r\n                }\r\n\r\n                if (state === \"свободен\") {\r\n                    return \"success\";\r\n                }\r\n            },\r\n\r\n            switchPage(nextPage) {\r\n                this.$store.dispatch(\"navigateToPage\", nextPage);\r\n            },\r\n\r\n            showSuccessAlert(text) {\r\n                this.alertText = text;\r\n                this.isShowSuccessAlert = true;\r\n\r\n                setTimeout(() => {\r\n                    this.alertText = \"\";\r\n                    this.isShowSuccessAlert = false;\r\n                }, 2000);\r\n            },\r\n\r\n            showErrorAlert(text) {\r\n                this.alertText = text;\r\n                this.isShowErrorAlert = true;\r\n\r\n                setTimeout(() => {\r\n                    this.alertText = \"\";\r\n                    this.isShowErrorAlert = false;\r\n                }, 2000);\r\n            }\r\n        }\r\n    }\r\n</script>","import { render } from \"./EmployeesTab.vue?vue&type=template&id=6212d96a\"\nimport script from \"./EmployeesTab.vue?vue&type=script&lang=js\"\nexport * from \"./EmployeesTab.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_v_card","title","flat","text","_withCtx","_createVNode","_component_v_text_field","modelValue","$data","term","_cache","$event","label","variant","default","$options","isLoading","_component_v_progress_linear","key","indeterminate","color","height","_createCommentVNode","_component_v_alert","type","_createElementVNode","textContent","_toDisplayString","alertText","_hoisted_1","_","isShowSuccessAlert","_hoisted_2","isShowErrorAlert","_component_v_data_table","headers","items","employees","search","itemsPerPage","value","_component_v_chip","border","getColor","size","_component_v_pagination","currentPage","switchPage","length","pagesCount","circle","data","sortByColumn","sortDesc","created","this","$store","dispatch","catch","showErrorAlert","computed","getters","pageSize","Math","ceil","pageItemsCount","methods","state","nextPage","showSuccessAlert","setTimeout","__exports__","render"],"sourceRoot":""}