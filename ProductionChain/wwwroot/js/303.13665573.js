"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[303],{3303:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var o=s(6768),a=s(4232);function i(e,t,s,i,r,l){const d=(0,o.g2)("v-btn"),u=(0,o.g2)("v-data-table"),c=(0,o.g2)("v-icon"),n=(0,o.g2)("v-card-title"),h=(0,o.g2)("v-card-text"),m=(0,o.g2)("v-card"),k=(0,o.g2)("v-col"),g=(0,o.g2)("v-row"),f=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(m,{title:"Очередь на получение задач",flat:""},{default:(0,o.k6)((()=>[l.isAuthorized?((0,o.uX)(),(0,o.Wv)(u,{key:0,headers:r.headers,items:l.taskQueue,"hide-default-footer":"",loading:l.isLoading,"no-data-text":"Список пуст"},{["header.employeeFullName"]:(0,o.k6)((({column:e})=>[(0,o.eW)((0,a.v_)(e.title),1)])),["header.createDate"]:(0,o.k6)((({column:e})=>[(0,o.eW)((0,a.v_)(e.title),1)])),["item.actions"]:(0,o.k6)((({item:e})=>[(0,o.bF)(d,{size:"small",color:"info",onClick:l.showTaskCreateModal,class:"me-4 mt-2"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Выдать задачу")]))),_:1,__:[1]},8,["onClick"]),(0,o.bF)(d,{size:"small",color:"error",onClick:t=>l.removeToTaskQueue(e),class:"mt-2"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Удалить из очереди")]))),_:2,__:[2]},1032,["onClick"])])),_:2},1032,["headers","items","loading"])):((0,o.uX)(),(0,o.Wv)(f,{key:1,class:"fill-height",fluid:""},{default:(0,o.k6)((()=>[(0,o.bF)(g,{align:"center",justify:"center"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{cols:"12",sm:"8",md:"6",lg:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(m,{class:"text-center pa-8"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)(" mdi-account-lock ")]))),_:1,__:[3]}),(0,o.bF)(n,{class:"text-h5 justify-center"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)(" Требуется авторизация ")]))),_:1,__:[4]}),(0,o.bF)(h,null,{default:(0,o.k6)((()=>[t[6]||(t[6]=(0,o.Lk)("p",{class:"text-body-1 mb-4"}," Для просмотра этой страницы необходимо войти в систему ",-1)),(0,o.bF)(d,{color:"primary",onClick:t[0]||(t[0]=e=>l.showLoginModal())},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)(" Войти ")]))),_:1,__:[5]})])),_:1,__:[6]})])),_:1})])),_:1})])),_:1})])),_:1}))])),_:1})}var r={data(){return{headers:[{value:"index",title:"№",align:"center"},{value:"employeeFullName",title:"Сотрудник"},{value:"createDate",title:"Дата"},{value:"actions",title:"",width:"35%"}]}},created(){this.isAuthorized&&this.$store.dispatch("loadTaskQueue")},computed:{taskQueue(){return this.$store.getters.taskQueue},isLoading(){return this.$store.getters.isLoading},isAuthorized(){return this.$store.getters.isAuthorized}},methods:{removeToTaskQueue(e){this.$store.dispatch("removeFromTaskQueue",e.employeeId).then((()=>{this.$store.commit("setAlertMessage","Сотрудник удален из очереди"),this.$store.commit("isShowSuccessAlert",!0)})).catch((()=>{this.$store.commit("setAlertMessage","Ошибка! Не удалось удалить сотрудника из очереди"),this.$store.commit("isShowErrorAlert",!0)}))},showTaskCreateModal(){this.$store.dispatch("loadEmployees"),this.$store.dispatch("loadProductionOrders"),this.$store.commit("isShowTaskCreateModal",!0)},showLoginModal(){this.$store.commit("setIsShowLoginModal",!0)}}},l=s(1241);const d=(0,l.A)(r,[["render",i]]);var u=d}}]);
//# sourceMappingURL=303.13665573.js.map